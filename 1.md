

Netty是java网络开发编程框架，特点是高性能，可靠性强，基于Java NIO进行封装，提供更加易于使用的API，简化网络服务的开发。

![image](F:\GithubMy\my\netty-easy\pic\netty.png)





### 优点

- 易用性
- 稳定
- 可扩展
- 资源消耗低
  - Netty通过复用对象，避免频繁创建和销毁对象的开销。
  - 零拷贝技术。减少了在缓冲区之间的拷贝



使用4.X的稳定版



### Linux的5中IO模型

- 同步阻塞IO（BIO）
- 同步非阻塞IO（NIO）
- IO多路复用
- 信号驱动IO
- 异步IO

一个多路复用器 Selector 可以同时轮询多个 Channel，采用 epoll 模式后，只需要一个线程负责 Selector 的轮询，就可以接入成千上万的客户端。

事件分发器（Event Dispather），它负责将读写事件分发给对应的读写事件处理器（Event Handler）





### Netty整体架构

![components](F:\GithubMy\my\netty-easy\pic\components.png)





### ByteBuf

1. 向不可写入的Buffer写入，会尝试扩容，但是capacity不会超过maxCapacity，如果写入的数据超过了maxCapacity，那么会报IndexOutOfBoundsException的错误
2. read/write系列方法会改变readIndex/writeIndex的位置，而get/set系列的方法则不会

